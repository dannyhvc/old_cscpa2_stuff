"use strict";(self["webpackChunkcasestudy_client"]=self["webpackChunkcasestudy_client"]||[]).push([[637],{5572:(t,e,a)=>{a.d(e,{C:()=>r,_:()=>l});const s="/api/",l=async t=>{let e,a=c();try{let l=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await l.json()}catch(l){console.log(l),e={error:`Error has occured: ${l.message}`}}return e},r=async(t,e)=>{let a,l=c();try{let r=await fetch(`${s}${t}`,{method:"POST",headers:l,body:JSON.stringify(e)});a=await r.json()}catch(r){a=r}return a},c=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("user"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"})},9637:(t,e,a)=>{a.r(e),a.d(e,{default:()=>U});var s=a(9835),l=a(6970);const r={class:"text-center"},c=(0,s._)("div",{class:"text-h3"},"Car Case",-1),n=["src"],o={class:"text-center"},u=(0,s._)("div",{class:"text-h4 q-mt-md"},"Cart Contents",-1),m=["src"],i={class:"text-positive q-mt-lg"},d={key:0,style:{width:"90vw","margin-left":"5vw","margin-top":"1vh"}},f=(0,s._)("strong",null,"Name",-1),w=(0,s._)("strong",null,"Qty",-1),_=(0,s._)("strong",null,"MSRP",-1),g=(0,s._)("strong",null,"Extended",-1),p=(0,s._)("strong",null,"Sub: ",-1),x=(0,s._)("strong",{class:"text-primary"},"Total: ",-1),y={class:"text-primary"},W={class:"col-3 text-center"};function C(t,e,a,C,h,v){const b=(0,s.up)("q-avatar"),S=(0,s.up)("q-item-section"),q=(0,s.up)("q-item"),k=(0,s.up)("q-list"),z=(0,s.up)("q-card"),T=(0,s.up)("q-scroll-area"),I=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[c,(0,s.Wm)(b,{class:"q-mb-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/CompanyLogo.png"},null,8,n)])),_:1})]),(0,s._)("div",o,[u,(0,s.Wm)(b,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"img/cart.svg"},null,8,m)])),_:1}),(0,s._)("div",i,(0,l.zw)(C.state.status),1)]),C.state.cart.length>0?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",null,[(0,s.Wm)(T,{style:{height:"50vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{separator:""},{default:(0,s.w5)((()=>[(0,s.Wm)(q,{style:{bottom:"-1vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[g])),_:1})])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.state.cart,(t=>((0,s.wg)(),(0,s.j4)(q,{key:t.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.id),1)])),_:2},1024),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.qty),1)])),_:2},1024),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(t.item.msrp)),1)])),_:2},1024),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(C.formatCurrency(t.item.msrp)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s._)("strong",null,(0,l.zw)(C.formatCurrency(C.state.subTotal)),1)])),_:1})])),_:1}),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s._)("strong",null,"Tax("+(0,l.zw)(100*C.state.tax)+"%): ",1)])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s._)("strong",null,(0,l.zw)(C.formatCurrency(C.state.taxCost)),1)])),_:1})])),_:1}),(0,s.Wm)(q,{class:"justify-content-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[x])),_:1}),(0,s.Wm)(S,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s._)("strong",y,(0,l.zw)(C.formatCurrency(C.state.total)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",W,[(0,s.Wm)(I,{class:"q-mr-sm",color:"primary",label:"Save Cart",disable:C.state.cart.length<1,onClick:e[0]||(e[0]=t=>C.saveCart())},null,8,["disable"]),(0,s.Wm)(I,{color:"primary",label:"Empty Cart",disable:C.state.cart.length<1,onClick:e[1]||(e[1]=t=>C.clearCart())},null,8,["disable"])])])])):(0,s.kq)("",!0)],64)}var h=a(499),v=a(7081),b=a(5572);const S={setup(){let t=(0,h.qj)({status:"",total:0,subTotal:0,taxCost:0,tax:.13,cart:[]});(0,s.bv)((()=>{sessionStorage.getItem("cart")?(t.cart=JSON.parse(sessionStorage.getItem("cart")),t.cart.forEach((e=>{t.subTotal+=e.item.msrp*e.qty})),t.taxCost=t.subTotal*t.tax,t.total=t.subTotal*(1+t.tax)):t.cart=[]}));const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="cart cleared"},a=async()=>{let a=JSON.parse(sessionStorage.getItem("user")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="sending cart info to server";let l={email:a.email,items:s},r=await(0,b.C)("Order",l);r.indexOf("not")>0||e(),t.status=r}catch(l){console.log(l),t.status=`Error add cart: ${l}`}};return{state:t,formatCurrency:v.x,clearCart:e,saveCart:a}}};var q=a(1639),k=a(1357),z=a(1019),T=a(4458),I=a(3246),O=a(490),Q=a(1233),Z=a(4455),j=a(9984),E=a.n(j);const N=(0,q.Z)(S,[["render",C]]),U=N;E()(S,"components",{QAvatar:k.Z,QScrollArea:z.Z,QCard:T.Z,QList:I.Z,QItem:O.Z,QItemSection:Q.Z,QBtn:Z.Z})}}]);