"use strict";(self["webpackChunkcasestudy_client"]=self["webpackChunkcasestudy_client"]||[]).push([[634],{5572:(t,e,a)=>{a.d(e,{C:()=>l,_:()=>r});const s="/api/",r=async t=>{let e,a=d();try{let r=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await r.json()}catch(r){console.log(r),e={error:`Error has occured: ${r.message}`}}return e},l=async(t,e)=>{let a,r=d();try{let l=await fetch(`${s}${t}`,{method:"POST",headers:r,body:JSON.stringify(e)});a=await l.json()}catch(l){a=l}return a},d=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("user"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"})},2634:(t,e,a)=>{a.r(e),a.d(e,{default:()=>O});var s=a(9835),r=a(6970);const l={class:"text-center q-mt-lg"},d=(0,s._)("div",{class:"text-h3"},"Car Case",-1),c=["src"],o={class:"text-positive q-mt-lg"},n={key:1,class:"text-h6 text-bold text-center text-primary"},i=["src"],u=["src"],m={style:{"font-weight":"bold","font-size":"larger","margin-top":"3vh","text-align":"center"}},p={key:0,class:"text-h5 text-bold text-center text-primary"},g={style:{"font-size":"larger","margin-top":"3vh","text-align":"center"}},y={class:"row"},w={class:"col-2 q-mr-sm"},h={class:"col-4 q-mr-sm"},f={class:"col-4"};function q(t,e,a,q,v,b){const _=(0,s.up)("q-avatar"),S=(0,s.up)("q-select"),x=(0,s.up)("q-item-section"),C=(0,s.up)("q-item"),k=(0,s.up)("q-list"),P=(0,s.up)("q-card"),W=(0,s.up)("q-scroll-area"),$=(0,s.up)("q-btn"),B=(0,s.up)("q-card-actions"),Q=(0,s.up)("q-card-section"),Z=(0,s.up)("q-input"),I=(0,s.up)("q-dialog"),z=(0,s.up)("q-page"),V=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(z,null,{default:(0,s.w5)((()=>[(0,s._)("div",l,[d,(0,s.Wm)(_,{class:"q-mb-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/CompanyLogo.png"},null,8,c)])),_:1}),(0,s._)("div",o,(0,r.zw)(q.state.status),1),q.state.brands.length>0?((0,s.wg)(),(0,s.j4)(S,{key:0,class:"q-mt-lg q-ml-lg",style:{width:"50vw","margin-bottom":"4vh","background-color":"#fff"},"option-value":"id","option-label":"name",modelValue:q.state.selectedBrandId,"onUpdate:modelValue":[e[0]||(e[0]=t=>q.state.selectedBrandId=t),e[1]||(e[1]=t=>q.loadProducts())],options:q.state.brands,label:"Select a Brand","emit-value":"","map-options":""},null,8,["modelValue","options"])):(0,s.kq)("",!0),q.state.products.length>0?((0,s.wg)(),(0,s.iD)("div",n,(0,r.zw)(q.state.selectedBrand.name)+" products ",1)):(0,s.kq)("",!0),(0,s.Wm)(W,{style:{height:"55vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.state.products,(t=>((0,s.wg)(),(0,s.j4)(C,{key:t.id,clickable:"",onClick:e=>q.selectProduct(t.id)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/img/${t.graphicName}`},null,8,i)])),_:2},1024)])),_:2},1024),(0,s.Wm)(x,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.id),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})]),(0,s.Wm)(I,{modelValue:q.state.itemSelected,"onUpdate:modelValue":e[5]||(e[5]=t=>q.state.itemSelected=t),"transition-show":"rotate","transition-hide":"rotate"},{default:(0,s.w5)((()=>[(0,s.Wm)(P,null,{default:(0,s.w5)((()=>[(0,s.Wm)(B,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)($,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[V]])])),_:1}),(0,s.Wm)(Q,{class:"q-pa-none text-center"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:`/img/${q.state.selectedProduct.graphicName}`,class:"item-image"},null,8,u)])),_:1}),(0,s.Wm)(Q,{class:"q-pa-none text-center"},{default:(0,s.w5)((()=>[(0,s._)("div",m,[q.state.products.length>0?((0,s.wg)(),(0,s.iD)("div",p,(0,r.zw)(q.state.selectedProduct.productName)+" - "+(0,r.zw)(q.formatCurrency(q.state.selectedProduct.msrp)),1)):(0,s.kq)("",!0)]),(0,s._)("div",g,(0,r.zw)(q.state.selectedProduct.description),1)])),_:1}),(0,s.Wm)(Q,null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s._)("div",w,[(0,s.Wm)(Z,{modelValue:q.state.qty,"onUpdate:modelValue":e[2]||(e[2]=t=>q.state.qty=t),modelModifiers:{number:!0},type:"number",filled:"",style:{"max-width":"15vw"},placeholder:"qty",hint:"Qty",dense:""},null,8,["modelValue"])])]),(0,s._)("div",h,[(0,s.Wm)($,{color:"primary",label:"Add To Cart",disable:q.state.qty<0,onClick:e[3]||(e[3]=t=>q.addToCart())},null,8,["disable"])]),(0,s._)("div",f,[(0,s.Wm)($,{color:"primary",label:"View Cart",disable:q.state.cart.length<1,onClick:e[4]||(e[4]=t=>q.viewCart())},null,8,["disable"])])])),_:1}),(0,s.Wm)(Q,{class:"text-center text-positive"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(q.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var v=a(499),b=a(5572),_=a(7081),S=a(8910);const x={setup(){(0,s.bv)((()=>{a()}));let t=(0,v.qj)({status:"",brands:[],products:[],selectedBrand:{},selectedBrandId:"",selectedProduct:{},dialogStatus:"",itemSelected:!1,cart:[],qty:0});const e=(0,S.tv)(),a=async()=>{try{t.status="loading brands...";const e=await(0,b._)("Brand");void 0===e.error?(t.brands=e,t.status=`loaded ${t.brands.length} brands`):t.status=e.error}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},r=async()=>{try{t.selectedBrand=t.brands.find((e=>e.id===t.selectedBrandId)),t.status=`finding products for brand ${t.selectedBrand}...`,t.products=await(0,b._)(`Product/${t.selectedBrand.id}`),t.status=`loaded ${t.products.length} products for ${t.selectedBrand.name}`}catch(e){console.log(e),t.status=`Error has occured: ${e.message}`}},l=async e=>{try{t.selectedProduct=t.products.find((t=>t.id===e)),t.selectedProduct.brand=t.selectedBrand,t.itemSelected=!0,t.dialogStatus="",sessionStorage.getItem("cart")&&(t.cart=JSON.parse(sessionStorage.getItem("cart")))}catch(a){console.log(a),t.status=`Error has occured: ${a.message}`}},d=()=>{let e=-1;t.cart.length>0&&(e=t.cart.findIndex((e=>e.id===t.selectedProduct.id))),t.qty>0?(-1===e?t.cart.push({id:t.selectedProduct.id,qty:t.qty,item:t.selectedProduct}):t.cart[e]={id:t.selectedProduct.id,qty:t.qty,item:t.selectedProduct},t.dialogStatus=`${t.qty} item(s) added`):(-1!==e&&t.cart.splice(e,1),t.dialogStatus="item(s) removed"),sessionStorage.setItem("cart",JSON.stringify(t.cart)),t.qty=0},c=()=>{e.push("cart")};return{state:t,loadProducts:r,selectProduct:l,addToCart:d,formatCurrency:_.x,viewCart:c}}};var C=a(1639),k=a(9885),P=a(1357),W=a(5698),$=a(1019),B=a(4458),Q=a(3246),Z=a(490),I=a(1233),z=a(7743),V=a(1821),j=a(4455),N=a(3190),T=a(6611),U=a(2146),A=a(9984),D=a.n(A);const E=(0,C.Z)(x,[["render",q]]),O=E;D()(x,"components",{QPage:k.Z,QAvatar:P.Z,QSelect:W.Z,QScrollArea:$.Z,QCard:B.Z,QList:Q.Z,QItem:Z.Z,QItemSection:I.Z,QDialog:z.Z,QCardActions:V.Z,QBtn:j.Z,QCardSection:N.Z,QInput:T.Z}),D()(x,"directives",{ClosePopup:U.Z})}}]);